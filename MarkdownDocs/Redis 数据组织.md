Redis 的 Data Organize Structure

对的 👍，Redis **默认就有多个逻辑数据库**（不是像 MySQL 那样的独立数据库实例，而是同一个 Redis 实例里的逻辑分区）。

1. **数量**

   * 默认有 **16 个数据库**（编号从 `0` 到 `15`）。
   * 可以在配置文件 `redis.conf` 中修改：

     ```conf
     databases 16
     ```

2. **特性**

   * 每个数据库之间 **相互独立**，key 不会互相干扰。
   * 但是它们 **共享同一个 Redis 实例**（同样的内存、持久化文件）。
   * 不支持像 MySQL 那样的 **数据库名**，只能用数字 ID 来区分。
   * **没有用户/权限隔离**，所有数据库的访问权限相同。



### 1. 切换数据库

```sh
SELECT dbIndex
```

* 例如：

  ```sh
  SELECT 0   # 切换到 0 号数据库（默认）
  SELECT 5   # 切换到 5 号数据库
  ```

### 2. 查看当前数据库 key 的数量

```sh
DBSIZE
```

* 返回当前数据库中 key 的数量。

### 3. 清空当前数据库

```sh
FLUSHDB
```

* 删除当前数据库中的所有 key。

### 4. 清空所有数据库

```sh
FLUSHALL
```

* 删除 Redis 实例中 **所有数据库** 的数据。

### 5. 移动 key 到另一个数据库

```sh
MOVE key dbIndex
```

* 把某个 key 从当前数据库移到另一个数据库。
* 例如：

  ```sh
  SET name "Tom"
  MOVE name 2   # 把 key "name" 移到 2 号数据库
  ```

### 6. 查看当前所在数据库

Redis 没有直接命令查看当前 DB，但可以这样：

```sh
CLIENT LIST
```

会显示当前连接在哪个数据库 (`db=0` 等)。



---

不过在 **生产环境** 中，Redis 很少用多数据库功能，通常只用 **DB 0**，如果要分库分权，会直接开多个 Redis 实例。

